<div class="layout-container full-view-container">

    <!-- TOOLBAR -->
    <mat-toolbar color="primary" class="main-toolbar mat-elevation-z4" [class.hidden]="toggleSearch">
        <button mat-icon-button (click)="sidenav.toggle()">
            <mat-icon>menu</mat-icon>
        </button>
        <h1 class="title" routerLink="/students">Alunno</h1>
        <button class="search-btn" mat-icon-button (click)="openSearchBar()">
            <mat-icon>search</mat-icon>
        </button>
    </mat-toolbar>

    <!-- SEARCH BAR -->
    <mat-toolbar class="search-bar mat-elevation-z4" [class.active]="toggleSearch">
        <mat-toolbar-row style="padding: 0 5px;">
            <button class="search-icon" mat-icon-button disabled>
                <mat-icon>search</mat-icon>
            </button>
            <!-- SEARCH COMPONENT -->
            <app-search (queryChange)="onQueryChange($event)"></app-search>
            <button mat-button mat-icon-button (click)="closeSearchBar()">
                <mat-icon>close</mat-icon>
            </button>
        </mat-toolbar-row>
    </mat-toolbar>

    <!-- SIDE NAV CONATINER-->
    <mat-sidenav-container class="sidenav-container">

        <!-- LEFT SIDE NAV -->
        <mat-sidenav #sidenav class='sidenav' [opened]="true" [class.full-width]="mobileQuery.matches"
            [mode]="mobileQuery.matches ? 'over' : 'side'" [fixedInViewport]="mobileQuery.matches" fixedTopGap="56">
            <div class="side-nav-content">
                <img src="assets/images/profile.svg" width="100" height="100" alt="" class="src">
                <div class="user-detail" *ngIf="user$ | async as user">
                    <p> Email: {{ user?.email }} </p>
                    <p> Admin: {{ user?.isAdmin }} </p>
                </div>
            </div>
        </mat-sidenav>

        <!-- MAIN CONTENT -->
        <mat-sidenav-content>
            <router-outlet></router-outlet>
        </mat-sidenav-content>

    </mat-sidenav-container>

</div>